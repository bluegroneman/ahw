---
import Hero from '../components/Hero.svelte';
import Layout from '../layouts/Layout.astro';
import Quote from '../components/Quote.svelte';

import { getEntry } from 'astro:content';

const AboutPage = await getEntry('pages', "about");
const quotes = [
    {
        quote: "Overcoming poverty is not a task of charity, it is an act of justice",
        author: "Nelson Mandela",
    },
    {
        quote: "Rock bottom became the solid foundation on which I rebuilt my life.",
        author: "J.K Rowling",
    },
    {
        quote: "I always wondered why somebody didnâ€™t do something about that. Then I realized, I am somebody.",
        author: "Unknown",
    }
];
---

<Layout title={AboutPage.data.title}>
	<main>
      <Hero
        headline={AboutPage.data.title}
        body={AboutPage.data.subTitle}
      />
    
    <article aria-labelledby="about-mission-heading" class="relative pt-12 pb-20 px-4 sm:pt-16 sm:px-6 lg:px-8">
      <div class="lg:max-w-7xl lg:mx-auto lg:grid lg:grid-cols-2 lg:gap-12 items-start">
        {/* Content first on mobile for better context, image first on large screens */}
        <div class="order-1 lg:order-none lg:col-start-2 lg:pl-8">
          <div class="text-base max-w-prose mx-auto lg:max-w-lg lg:ml-auto lg:mr-0">
            <p class="inline-flex items-center gap-2 text-sm font-semibold tracking-wide text-indigo-600 uppercase">
              <span class="h-1.5 w-1.5 rounded-full bg-indigo-600" aria-hidden="true"></span>
              {AboutPage.data.subTitle}
            </p>
            <h2 id="about-mission-heading" class="mt-3 mb-6 text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900">
              Our Mission
            </h2>
            <div set:html={AboutPage.rendered.html} class="prose prose-indigo prose-lg max-w-none dark:prose-invert"/>
          </div>
        </div>

        <div class="order-none lg:inset-y-0 lg:left-0">
          <figure class="relative overflow-hidden rounded-2xl shadow-xl ring-1 ring-black/5 bg-gray-50">
            <img
              class="block w-full h-full object-cover object-center aspect-[4/3] sm:aspect-[16/9]"
              src={AboutPage.data.imgSrc}
              alt="almost home yard sale event with family"
              loading="lazy"
              decoding="async"
            />
            <figcaption class="sr-only">Community event supporting Almost Home.</figcaption>
          </figure>
        </div>
      </div>
    </article>

    <section aria-label="Inspiring quotes" class="px-4 sm:px-6 lg:px-8 pb-16">
      <div class="max-w-4xl mx-auto">
        <div class="rounded-2xl border border-gray-200/80 bg-white/70 backdrop-blur supports-[backdrop-filter]:bg-white/60 shadow-sm">
          <ul>
            {quotes.map((item) => {
              return (
                <li class="p-6 sm:p-8">
                  <Quote author={item.author} quote={item.quote} />
                </li>
              );
            })}
          </ul>
        </div>
      </div>
    </section>
  </main>
</Layout>
